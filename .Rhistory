mutate(AMOUNT = as.numeric(AMOUNT)) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
summarise(sum_ = sum(AMOUNT))
lst_dfs[[i]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='"',replacement = "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = gsub(",", "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
select(sum_ = sum(AMOUNT))
for(i in 1:length(lst_dfs)){
lst_dfs[[i]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='"',replacement = "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = gsub(",", "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
select(sum_ = sum(AMOUNT))
payment_sum = payment_sum + lst_dfs[[i]]$sum_
}
# lst_dfs[[1]] = lst_dfs[[1]] %>%
#   select(AMOUNT) %>%
#   mutate(AMOUNT = gsub(pattern ='"',replacement = "", lst_dfs[[1]]$AMOUNT)) %>%
#   mutate(AMOUNT = gsub("([..])|[[:punct:]]", "", lst_dfs[[1]]$AMOUNT)) %>%
#   mutate(AMOUNT = as.numeric(format(AMOUNT))) %>%
#   filter(AMOUNT != is.na(AMOUNT)) %>%
#   summarise(sum_ = sum(AMOUNT))
# lst_dfs[[1]]$sum_
lst_dfs[[22]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='"',replacement = "", lst_dfs[[22]]$AMOUNT)) %>%
mutate(AMOUNT = gsub(",", "", lst_dfs[[22]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
summarise(sum_ = sum(AMOUNT))
for(i in 1:length(lst_dfs)){
lst_dfs[[i]] %>%
select(START.DATE,END.DATE,AMOUNT) %>%
filter(AMOUNT > 0) %>%
mutate(START.DATE = as.Date(START.DATE, "%m/%d/%Y")) %>%
mutate(END.DATE = as.Date(END.DATE,"%m/%d/%Y")) %>%
filter(END.DATE != is.na(END.DATE)) %>%
filter(START.DATE != is.na(START.DATE)) %>%
mutate(COVERAGE.PERIOD = as.numeric(difftime(END.DATE, START.DATE))) %>%
summarise(sd = sd(COVERAGE.PERIOD))
}
for(i in 1:length(lst_dfs)){
lst_dfs[[i]] %>%
select(START.DATE,END.DATE,AMOUNT) %>%
filter(AMOUNT > 0) %>%
mutate(START.DATE = as.Date(START.DATE, "%m/%d/%Y")) %>%
mutate(END.DATE = as.Date(END.DATE,"%m/%d/%Y")) %>%
filter(END.DATE != is.na(END.DATE)) %>%
filter(START.DATE != is.na(START.DATE)) %>%
mutate(COVERAGE.PERIOD = as.numeric(difftime(END.DATE, START.DATE))) %>%
filter(COVERAGE.PERIOD >0) %>%
summarise(sd = sd(COVERAGE.PERIOD))
}
for(i in 1:length(lst_dfs)){
lst_dfs[[i]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='"',replacement = "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = gsub(",", "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = gsub("-", "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
select(sum_ = sum(AMOUNT))
payment_sum = payment_sum + lst_dfs[[i]]$sum_
}
for(i in 1:length(lst_dfs)){
lst_dfs[[i]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='[::punc::]',replacement = "", lst_dfs[[i]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
mutate(AMOUNT/100) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
select(sum_ = sum(AMOUNT))
payment_sum = payment_sum + lst_dfs[[i]]$sum_
}
lst_dfs[[23]] %>%
select(AMOUNT) %>%
mutate(AMOUNT = gsub(pattern ='[::punc::]',replacement = "", lst_dfs[[23]]$AMOUNT)) %>%
mutate(AMOUNT = as.numeric(AMOUNT)) %>%
mutate(AMOUNT/100) %>%
filter(AMOUNT != is.na(AMOUNT)) %>%
select(sum_ = sum(AMOUNT))
shiny::runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChina
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChinaAlltime
temp
View(temp)
temp %>%
select(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"]))
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"]))
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"]))
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(MeanChinese,MeanOverseas,alternative = "double.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(MeanChinese,MeanOverseas,alternative = "twp.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(MeanChinese,MeanOverseas,alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(MeanChinese,MeanOverseas,alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(MeanChinese[1],MeanOverseas[1],alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(temp[,MeanChinese],temp[,MeanOverseas],alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
t.test(temp[MeanChinese,],temp[MeanOverseas,],alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
select(MeanChinese) %>%
sample_n(1) -> ChineseMean
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
select(MeanOverseas) %>%
sample_n(1) -> OverseasMean
ChineseMean
OverseasMean
t.test(ChineseMean,OverseasMean,alternative = "two.sided")
OverseasMean
ChineseMean
t.test(82.5,291,alternative = "two.sided")
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) ->ChineseMean
temp %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) -> OverseasMean
OverseasMean = as.vector(OverseasMean)
OverseasMean
select(MeanOverseas-> OverseasMean
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
select(MeanChinese) ->ChineseMean
UsChinaAlltime  %>%
select(Year,Total_Worldwide_Gross,Domestic,OverseasTotalRegion,Overseasfactor,Overseas) %>%
group_by(Year) %>%
mutate(TWGperYear = sum(Total_Worldwide_Gross)) %>%
group_by(Year, OverseasTotalRegion, TWGperYear)-> temp
temp %>%
mutate(MeanChinese = mean(Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"])) %>%
select(MeanChinese) ->ChineseMean
temp %>%
OverseasMean = as.vector(OverseasMean)
OverseasMean
OverseasMean
temp %>%
mutate(MeanOverseas = mean(Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"])) %>%
select(MeanOverseas)
UsChinaAlltime  %>%
select(Year,Total_Worldwide_Gross,Domestic,OverseasTotalRegion,Overseasfactor,Overseas) %>%
group_by(Year) %>%
mutate(TWGperYear = sum(Total_Worldwide_Gross)) %>%
group_by(Year, OverseasTotalRegion, TWGperYear)-> temp
temp = tbl_df(temp)
temp %>%
mutate(MeanChinese = Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"]) %>%
select(MeanChinese) ->ChineseMean
temp %>%
mutate(MeanOverseas = Overseasfactor[OverseasTotalRegion=="all_other_overseas_gross"]) %>%
select(MeanOverseas)-> OverseasMean
ChineseMean
OverseasMean = as.vector(OverseasMean[MeanOverseas])
OverseasMean
OverseasMean = as.vector(OverseasMean$MeanOverseas)
OverseasMean
runApp('IRAVILLARShinyApp')
temp %>%
mutate(MeanChinese = Overseasfactor[OverseasTotalRegion == "Total_Chinese_Gross"]) %>%
select(MeanChinese) ->ChineseMean
runApp('IRAVILLARShinyApp')
temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross")
temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Overseasfactor) ->ChineseMean
ChineseMean
OverseasMean = as.vector(OverseasMean$Overseasfactor)
ChineseMean = as.vector(ChineseMean$Overseasfactor)
temp %>%
filter(OverseasTotalRegion=="all_other_overseas_gross") %>%
select(Overseasfactor)-> OverseasMean
OverseasMean = as.vector(OverseasMean$Overseasfactor)
OverseasMean
ChineseMean
t.test(ChineseMean,OverseasMean,alternative = "two.sided")
UsChina
UsChina %>%
unique(Studio)
View(UsChina)
UsChina
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
shiny::runApp('IRAVILLARShinyApp')
linechart
runApp('IRAVILLARShinyApp')
runApp()
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
library(lubridate)
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
linechart
runApp('IRAVILLARShinyApp')
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.POSIXct(Year, "%Y", origin = "1970-01-01")) %>%
filter(Year %in%(2016:2019))
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.POSIXct(Year, "%Y", origin = "2016")) %>%
filter(Year %in%(2016:2019))
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y", origin = "2016")) %>%
filter(Year %in%(2016:2019))
runApp('IRAVILLARShinyApp')
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y", origin = "2016")) %>%
filter(Year %in%(2016:2019))
linechart
temp
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y", origin = "2016")) %>%
filter(Year > 2016)
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y")) %>%
filter(Year > 2016)
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y", origin = "2016")) %>%
filter(Year > 2016)
linechart
View(linechart)
View(linechart)
lubridate::origin
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = as.Date(Year, "%Y", origin = "1970-01-01")) %>%
filter(Year > 2016)
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(., format="%Y"),"%Y")) %>%
filter(Year > 2016)
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y"),"%Y")) %>%
filter(Year > 2016)
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="1970-01-01"),"%Y")) %>%
filter(Year > 2016)
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="1970-01-01"),"%Y"))
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="2016"),"%Y"))
linechart
runApp('IRAVILLARShinyApp')
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="2016"),"%Y")) %>%
filter(Year > 2016)
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = y(Year))
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = lubridate::y(Year))
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="2016"),"%Y")) %>%
mutate(Year = year(Year))
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="2016"))) %>%
mutate(Year = year(Year))
linechart
temp
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y", origin="1970"))) %>%
mutate(Year = year(Year))
linechart
linechart = temp %>%
filter(OverseasTotalRegion == "Total_Chinese_Gross") %>%
select(Title, Chinese_Gross = Overseasfactor, Domestic, Year) %>%
mutate(Year = format(as.Date(Year, format="%Y"))) %>%
mutate(Year = year(Year))
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp()
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChinaAlltime
View(UsChinaAlltime)
View(UsChinaAlltime)
linechart = UsChinaAlltime %>%
gather(key="ComparisonRegion",value="Comparisonfactor",Domestic,Overseasfactor[OverseasTotalRegion=="Total_Chinese_Gross"])
UsChinaAlltime2 = UsChinaAlltime %>%
gather(key = "OverseasTotalRegion",value ="Overseasfactor",Total_Chinese_Gross,all_other_overseas_gross ) %>%
filter(Overseasfactor != is.na(Overseasfactor))
UsChinaAlltime2  %>%
select(Title, Year,Total_Worldwide_Gross,Domestic,OverseasTotalRegion,Overseasfactor,Overseas) %>%
group_by(Year) %>%
mutate(TWGperYear = sum(Total_Worldwide_Gross)) %>%
group_by(Year, OverseasTotalRegion, TWGperYear)-> temp
UsChinaAlltime <- merge(x=Worldwide.Alltime,y=co,by="Title",all.x=TRUE, na.rm = TRUE)
UsChinaAlltime %>%
filter(Chinese.Opening != is.na(Chinese.Opening)) %>%
select(Rank = Rank.x,-Rank.y,everything()) -> UsChinaAlltime
UsChinaAlltime = tbl_df(UsChinaAlltime)
UsChinaAlltime = UsChinaAlltime %>%
mutate(all_other_overseas_gross = Total_Worldwide_Gross - (Total_Chinese_Gross + Domestic))
UsChinaAlltime
linechart = UsChinaAlltime %>%
gather(key="ComparisonRegion",value="Comparisonfactor",Domestic,Total_Chinese_Gross)
linechart
View(linechart)
View(linechart)
UsChinaCompare = UsChinaAlltime %>%
gather(key="ComparisonRegion",value="Comparisonfactor",Domestic,Total_Chinese_Gross)
runApp('IRAVILLARShinyApp')
View(UsChinaCompare)
View(UsChinaCompare)
UsChinaCompare = UsChinaAlltime %>%
gather(key="ComparisonRegion",value="Comparisonfactor",Domestic,Total_Chinese_Gross) %>%
select(Year,Title,ComparisonRegion,Comparisonfactor)
UsChinaCompare
runApp('IRAVILLARShinyApp')
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
select(Year,Title,Domestic_Total,Chinese_Total)
UsChinaCompare
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
select(Year,Title,Domestic_Total,Chinese_Total)
UsChinaCompare
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
select(Year,Domestic_Total,Chinese_Total)
UsChinaCompare
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChinaCompare
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
group_by(Year,Domestic_Total,Chinese_Total) %>%
select(Year,Domestic_Total,Chinese_Total)
UsChinaCompare
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
group_by(Year) %>%
select(Year,Domestic_Total,Chinese_Total)
UsChinaCompare
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
arrange(-Year) %>%
group_by(Year) %>%
select(Year,Domestic_Total,Chinese_Total)
UsChinaCompare
UsChinaCompare = UsChinaAlltime %>%
group_by(Year) %>%
mutate(Domestic_Total = sum(Domestic)) %>%
mutate(Chinese_Total = sum(Total_Chinese_Gross)) %>%
filter(Domestic_Total != is.na(Domestic_Total)) %>%
arrange(Year) %>%
group_by(Year) %>%
select(Year,Domestic_Total,Chinese_Total)
UsChinaCompare
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp()
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
UsChinaCompare
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
runApp('IRAVILLARShinyApp')
ns = read.csv("NumberofScreens.csv",stringsAsFactors = FALSE)
setwd("~/Downloads/IRAVILLARShinyApp")
ns = read.csv("NumberofScreens.csv",stringsAsFactors = FALSE)
ns = tbl_df(ns)
View(ns)
View(ns)
ns = ns %>%
filter(Year > 2004) %>%
select(Year,Number.of.screens)
ns
ns$Number.of.screens = Number.of.screens = as.numeric(gsub("[[:punct:]]","",ns$Number.of.screens))
ns$Number.of.screens[ns$Year == 2012] = mean(ns$Number.of.screens[ns$Year == 2011] + ns$Number.of.screens[ns$Year == 2013])
ns$Number.of.screens[ns$Year == 2012] = ((ns$Number.of.screens[ns$Year == 2011] + ns$Number.of.screens[ns$Year == 2013])/2)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
